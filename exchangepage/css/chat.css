/* ========== THAMMUE Chat (chat.css) ========== */
:root{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --line:#e9edf3;
  --text:#0f172a;
  --muted:#64748b;
  --me:#0ea5e9;
  --me-ink:#ffffff;
  --you:#ffffff;
  --you-ink:#0f172a;
  --radius:16px;
}

/* Page */
body{ background:var(--bg); }
.chat-wrap{ max-width:1100px; margin:18px auto; padding:0 16px; }
.chat-grid{ display:grid; grid-template-columns:320px 1fr; gap:16px; }

/* Panels */
.chat-list, .chat-box{
  background:var(--panel); border:1px solid var(--line);
  border-radius:var(--radius); overflow:hidden;
}
.chat-list-head, .chat-box-head{
  background:#f9fafb; padding:12px 14px; font-weight:700; border-bottom:1px solid var(--line);
}

/* ===== Left list: fixed-height rows (equal height) ===== */
/* === บังคับให้รายชื่อแชทเรียงลงมาเป็นคอลัมน์เดียว === */
.chat-list ul{
  display: flex !important;
  flex-direction: column !important;
  flex-wrap: nowrap !important;
  column-count: 1 !important;   /* กันเคสโดน columns แบ่งคอลัมน์ */
  column-gap: 0 !important;
}

.chat-list li{
  width: 100% !important;       /* กันเคสโดนตั้ง 50% จากที่อื่น */
  float: none !important;       /* กันเคสโดน float ซ้าย/ขวา */
  clear: both !important;
  min-width: 0;
}

.chat-list a{
  display: block;
  width: 100%;
  box-sizing: border-box;
}
.chat-list a:hover{ background:#f7f7fb; }

/* บรรทัดข้อความในรายการ = 1 บรรทัดตัด … */
.chat-list strong,
.chat-list .meta{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  max-width:100%;
}
.chat-list strong{ font-weight:700; }
.chat-list .meta{ font-size:12px; color:var(--muted); }

/* ไม่ให้ <br> ดันความสูงของแถว */
.chat-list a > br{ display:none; }

/* ===== Messages (right) ===== */
.chat-msgs{
  padding:18px 16px 12px; height:62vh; overflow:auto;
  background:linear-gradient(#fafbff, #f6f7fb);
  scroll-behavior:smooth;
}

/* Day separator */
.day-sep{ display:flex; align-items:center; gap:12px; margin:8px 0 14px; }
.day-sep::before, .day-sep::after{ content:""; height:1px; background:var(--line); flex:1; }
.day-sep span{ font-size:12px; color:var(--muted); background:#eef2ff; padding:4px 10px; border-radius:999px; }

/* Bubbles */
.msg{ max-width:72%; margin:8px 0; display:flex; gap:10px; }
.msg .bubble{
  padding:10px 12px; border-radius:16px; line-height:1.45;
  box-shadow:0 2px 6px rgba(15,23,42,.08);
  word-wrap:break-word; white-space:pre-wrap; position:relative;
}
.msg.you{ justify-content:flex-start; }
.msg.you .bubble{ background:var(--you); color:var(--you-ink); border:1px solid var(--line); border-top-left-radius:6px; }
.msg.me{ justify-content:flex-end; }
.msg.me .bubble{ background:var(--me); color:var(--me-ink); border-top-right-radius:6px; }

/* Timestamp */
.at{ display:block; font-size:11px; color:var(--muted); margin-top:6px; }

/* Composer */
.chat-input{
  display:flex; gap:10px; padding:12px; border-top:1px solid var(--line);
  background:var(--panel); position:sticky; bottom:0;
}
.chat-input textarea{
  flex:1; border:1px solid var(--line); border-radius:12px; padding:12px 14px;
  height:48px; resize:none; font:inherit; outline:none; background:#fff;
}
.chat-input textarea:focus{ box-shadow:0 0 0 3px rgba(14,165,233,.18); }
.chat-input button{
  border:none; background:var(--me); color:#fff; border-radius:12px;
  padding:0 16px; font-weight:600; min-width:84px; transition:transform .04s ease;
}
.chat-input button:active{ transform:translateY(1px); }

/* Room header */
#chatHead{ font-weight:700; }
#chatHead .sub{ color:var(--muted); font-weight:400; }

/* Scrollbar (webkit) */
.chat-msgs::-webkit-scrollbar{ height:10px; width:10px; }
.chat-msgs::-webkit-scrollbar-thumb{ background:#cfd8e3; border-radius:999px; }
.chat-msgs::-webkit-scrollbar-track{ background:transparent; }

.hint{ padding:12px; color:var(--muted); }

/* Responsive */
@media (max-width:900px){
  .chat-grid{ grid-template-columns:1fr; }
  .chat-list{ order:2; }
}
