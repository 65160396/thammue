<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Thammue – บัญชีของฉัน</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/open-shop.css" />
    <link rel="stylesheet" href="/css/dropdownmenu.css" />

  </head>

  <body class="open-shop">

    <!-- topbar -->
    <ul class="top-nav">
      <li><a href="/page/upload_product.html">อัพโหลดสินค้า</a></li>
      <li><span class="top-divider">|</span></li>
      <li><a href="/page/main.html">ซื้อสินค้า</a></li>
      <li class="right"><a href="#notification">แจ้งเตือน</a></li>
      <li><span class="top-divider">|</span></li>
      <li><a href="#help">ช่วยเหลือ</a></li>
      <li><span class="top-divider">|</span></li>
      <li><a href="#lang">ไทย</a></li>
    </ul>

    <!-- Header หลัก -->
    <div class="header-wrapper">
      <div class="logo-container">
        <a href="/page/main.html" class="brand-text">THAMMUE</a>
      </div>

      <div class="search-container">
        <div class="search-group">
          <input type="text" placeholder="ค้นหาสินค้า" />
          <button class="search-button" aria-label="ค้นหา">
            <img src="/img/Icon/search.png" alt="ค้นหา" />
          </button>
        </div>

        <div class="icon-buttons">

          <a class="action-button" href="/page/favorites/index.php"
            aria-label="รายการโปรด">
            <img src="/img/Icon/heart.png" alt="รายการโปรด" />
            <span id="favBadge" class="icon-badge" hidden>0</span>
          </a>

          <a class="action-button" href="/page/cart/index.php"
            aria-label="ตะกร้า" style="position:relative">
            <img src="/img/Icon/shopping-cart.png" alt="ตะกร้า" />
            <span id="cartBadge" class="icon-badge" hidden>0</span>
          </a>

          <button class="action-button"><img src="/img/Icon/chat.png"
              alt="แชท" /></button>

          <!-- ▼ โปรไฟล์ + ชื่อ + เมนูดรอปดาวน์ -->
          <div class="user-menu" id="userMenu">
            <button class="user-area" id="userArea"
              aria-haspopup="true" aria-expanded="false">
              <img src="/img/Icon/user.png" alt="โปรไฟล์" />
              <span class="user-chip" id="userChip" hidden></span>
              <svg class="chev" viewBox="0 0 20 20"
                aria-hidden="true">
                <path d="M5.5 7.5l4.5 4 4.5-4" fill="none"
                  stroke="currentColor" stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>

            <div class="user-dropdown" id="userDropdown"
              role="menu">
              <!-- JS จะเติมรายการให้ (guest: login/register, user: account/orders/logout) -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <main class="account-wrap">
      <!-- เมนูซ้าย -->
      <aside class="account-sidenav">
        <nav class="account-nav" aria-label="เมนูบัญชี">
          <a href="/page/profile.html" data-path="profile.html">บัญชีของฉัน</a>
          <a href="/page/change_password.html"
            data-path="change_password.html">เปลี่ยนรหัสผ่าน</a>
          <a href="/page/orders/index.php"
            data-path="my_order.html">การซื้อของฉัน</a>
          <a href="/page/favorites/index.php"
            data-path="favorites.html">รายการโปรด</a>
          <a href="/page/privacy_settings.html"
            data-path="privacy_settings.html">การตั้งค่าความเป็นส่วนตัว</a>
        </nav>

      </aside>

      <!-- เนื้อหาขวา -->
      <section class="account-content">

        <form id="profileForm" class="account-card form-v2"
          action="/page/backend/save_profile.php" method="post"
          autocomplete="off">
          <h1 class="account-title">รายละเอียดของฉัน</h1>
          <div class="grid2">
            <div class="field">
              <label for="first_name">ชื่อ</label>
              <input id="first_name" name="first_name" type="text"
                required />
            </div>
            <div class="field">
              <label for="last_name">นามสกุล</label>
              <input id="last_name" name="last_name" type="text"
                required />
            </div>
          </div>

          <div class="grid2">
            <div class="field">
              <label>วันเกิด</label>
              <div class="dob-row">
                <select id="dobDay" aria-label="วัน" required></select>
                <select id="dobMonth" aria-label="เดือน" required></select>
                <select id="dobYear" aria-label="ปี (ค.ศ.)" required></select>
              </div>
              <!-- ส่งวันเกิดเป็น YYYY-MM-DD ไป PHP -->
              <input type="hidden" name="dob" id="dobIso" />

            </div>
            <div class="field">
              <label for="gender">เพศ</label>
              <select id="gender" name="gender" required>
                <option value selected disabled>— เลือก
                  —</option>
                <option value="male">ชาย</option>
                <option value="female">หญิง</option>
                <option value="other">อื่น ๆ</option>
                <option value="prefer_not">ไม่ระบุ</option>
              </select>
            </div>
          </div>

          <div class="field">
            <label for="phone">หมายเลขโทรศัพท์</label>
            <input id="phone" name="phone" type="tel"
              inputmode="numeric" maxlength="10"
              pattern="[0-9]{9,10}" required />
          </div>

          <h3 class="form-section">ที่อยู่</h3>
          <div class="grid2">
            <div class="field">
              <label for="addr_province">จังหวัด</label>
              <select id="addr_province" name="addr_province"
                required></select>
            </div>
            <div class="field">
              <label for="addr_district">อำเภอ/เขต</label>
              <select id="addr_district" name="addr_district"
                required disabled>
                <option value selected disabled>— เลือกอำเภอ/เขต
                  —</option>
              </select>
            </div>
          </div>

          <div class="grid2">
            <div class="field">
              <label for="addr_subdistrict">ตำบล/แขวง</label>
              <select id="addr_subdistrict"
                name="addr_subdistrict" required disabled>
                <option value selected disabled>— เลือกตำบล/แขวง
                  —</option>
              </select>
            </div>
            <div class="field">
              <label for="addr_postcode">รหัสไปรษณีย์</label>
              <input id="addr_postcode" name="addr_postcode"
                type="text"
                inputmode="numeric" maxlength="5" required />
            </div>
          </div>

          <div class="field">
            <label for="addr_line">รายละเอียดที่อยู่ตามบัตร</label>
            <input id="addr_line" name="addr_line"
              type="text" placeholder="บ้านเลขที่ หมู่ ซอย ถนน"
              required />
          </div>

          <div class="actions">
            <button type="submit" class="btn">บันทึก</button>
          </div>
        </form>
      </section>
    </main>

    <script src="/js/address.js"></script>
    <script src="/js/me.js"></script> <!--ดึงสถานะผู้ใช้-->
    <script src="/js/user-menu.js"></script> <!--จัดการเมนูโปรไฟล์-->
    <script src="/js/account/profile.js"></script>
    <script src="/js/account/account-common.js"></script>

    <!-- แสดงจำนวน "รายการโปรด" -->
    <script src="/js/fav-badge.js" defer></script>
    <script src="/js/cart-badge.js" defer></script>

  </body>
</html>
