<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Thammue - ร้านค้าของฉัน</title>
    <!-- ใช้สไตล์เดียวกับหน้าอัปโหลดสินค้า -->
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/open-shop.css" />
  </head>

  <!-- ใช้คลาส open-shop เพื่อให้ธีม/องค์ประกอบสอดคล้องกัน -->
  <body class="open-shop">
    <!-- topbar -->
    <ul class="top-nav">
      <li><a href="/page/storepage/store.html">ร้านค้า</a></li>
      <li><span class="top-divider">|</span></li>
      <li><a href="/page/main.html">ซื้อสินค้า</a></li>

      <li class="right"><a href="#notification">แจ้งเตือน</a></li>
      <li><span class="top-divider">|</span></li>
      <li><a href="#help">ช่วยเหลือ</a></li>
      <li><span class="top-divider">|</span></li>
      <li><a href="#lang">ไทย</a></li>
    </ul>

    <!-- Header (เหมือนหน้าอัปโหลดสินค้า) -->
    <div class="header-wrapper">
      <div class="logo-container">
        <a href="/page/main.html" class="brand-text">THAMMUE</a>
      </div>
      <div class="search-container">
        <div class="icon-buttons">
          <button class="action-button">
            <img src="/img/Icon/chat.png" alt="แชท" />
          </button>

          <!-- โปรไฟล์ -->
          <div class="user-menu" id="userMenu">
            <button class="user-area" id="userArea" aria-haspopup="true"
              aria-expanded="false">
              <img src="/img/Icon/user.png" alt="โปรไฟล์" />
              <span class="user-chip" id="userChip" hidden></span>
              <svg class="chev" viewBox="0 0 20 20" aria-hidden="true">
                <path d="M5.5 7.5l4.5 4 4.5-4" fill="none" stroke="currentColor"
                  stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
            <div class="user-dropdown" id="userDropdown" role="menu"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== Store Hub (สไตล์/เลย์เอาต์อิงหน้า open-shop) ===== -->
    <section class="open-shop">
      <div class="wizard-page">

        <!-- card หลัก -->
        <div class="wizard-card">
          <h2 class="form-section">ข้อมูลร้านค้า</h2>
          <!-- แถวหัวหน้า: ชื่อร้าน + ไอดี -->
          <div class="grid2">
            <div class="field field--full">
              <label>ชื่อร้าน</label>
              <div class="value" id="shopName"
                style="font-weight:600">กำลังโหลด...</div>
            </div>

            <div class="field field--full">
              <label>รหัสอ้างอิง</label>
              <div class="value" id="shopId" style="color:#6b7280">—</div>
            </div>

            <div class="field field--full">
              <label>สถานะร้าน</label>
              <div class="value" id="shopStatus" style="color:#6b7280">—</div>
            </div>

          </div>

          <!-- ปุ่มการกระทำหลัก (ใช้ปุ่มสไตล์เดียวกับหน้าอัปโหลด) -->
          <div class="actions" style="display:flex; gap:16px; flex-wrap:wrap">
            <a id="infoLink" class="btn"
              href="/page/storepage/store-info.html">ข้อมูลร้านค้า</a>
            <a id="btn-sales" class="btn" href="#">ยอดขาย</a>
            <a id="uploadLink" class="btn"
              href="/page/storepage/upload_product.html">อัพโหลดสินค้า</a>
            <a id="manageProductsLink" class="btn btn-secondary"
              href="/page/storepage/store-products.html">จัดการสินค้า</a>

          </div>

        </div>
      </div>
    </section>

    <script src="/js/me.js"></script> <!--ดึงสถานะผู้ใช้-->
    <script src="/js/user-menu.js"></script> <!--จัดการเมนูโปรไฟล์-->
    <script src="/js/store/shop-page.js"></script> <!--จัดการข้อมูลร้านค้า-->
    <script src="/js/productsforsale/get_shop_info.js"></script>

    <script>
(function(){
  const qs = new URLSearchParams(location.search);
  const shopId = qs.get('shop_id');

  function bind(id, path){
    const el = document.getElementById(id);
    if (!el) return;
    if (shopId) {
      el.href = `${path}?shop_id=${encodeURIComponent(shopId)}`;
    } else {
      el.removeAttribute('href');
      el.style.opacity = .6;
      el.style.pointerEvents = 'none';
      el.title = 'ยังไม่มี shop_id';
    }
  }

  bind('infoLink',            '/page/storepage/store-info.html');
  bind('uploadLink',          '/page/storepage/upload_product.html');
  bind('manageProductsLink',  '/page/storepage/store-products.html');
  bind('btn-sales',           '/page/storepage/store-sales.html');
})();
</script>

  </body>
</html>
